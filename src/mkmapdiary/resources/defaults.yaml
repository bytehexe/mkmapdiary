# Default configuration for mkmapdiary

# The !auto value indicates that the value is automatically determined
# based on system settings.

features:
  # Feature configuration defaults
  transcription:
    enabled: !auto
  llms:
    enabled: true
    text_model: "llama3:8b"
  geo_correlation:
    enabled: true
    time_offset: !duration 0 seconds
    max_time_diff: !duration 300 seconds
  poi_detection:
    enabled: true
    max_age: !duration 300 days
  iqa:
    # always enabled
    method: !auto
    threshold: 0.1 # For CLIPIQA
    stddev_factor: 2 # For Simple
  entropy_filtering:
    enabled: true
    threshold: 6.5
  gpsbabel_import:
    enabled: !auto
    # Supported GPS data file formats
    # Key starting with a dot: indicates a file extension
    # Key without a dot: indicates a tag from identify-cli
    # Value: the format name to pass to gpsbabel
    formats:
      gpx: gpx
      kml: kml
      .bin: qstarz_bl-1000
      .poi: qstarz_bl-1000
  track_simplification:
    enabled: !auto
    tolerance: !distance 1 meter

site:
  # Site configuration defaults
  image_format: jpg
  image_options: {}
  locale: !auto
  timezone: !auto

debug:
  enable_user_cache: false

strings:
  # Override translation strings here by providing custom values
  journal_title: null
  site_name: null
  map_title: null
  days_title: null
  audio_title: null
  text_title: null
  gallery_title: null
  home_title: null
  generate_title_prompt: null
  generate_tags_prompt: null
  summarize_journal_entry_prompt: null
  summarize_image_prompt: null
  assess_image_quality_prompt: null

llm_prompts:
  # LLM prompt templates

  generate_title:
    translation_key: generate_title_prompt
    model: "granite3.3:8b"
    options:
      temperature: 0.2

  generate_tags:
    translation_key: generate_tags_prompt
    model: "granite3.3:8b"
    options:
      temperature: 0.8

  summarize_journal_entry:
    translation_key: summarize_journal_entry_prompt
    model: "granite3.3:8b" # standard model
    #model: "granite3.3:2b" # light model
    options:
      temperature: 0.3


  summarize_image:
    translation_key: summarize_image_prompt
    model: "granite3.2-vision:2b" # standard model
    #model: "llava-phi3:3.8b" # light model
    options:
      temperature: 0.3
      num_predict: 128

  assess_image_quality:
    translation_key: assess_image_quality_prompt
    model: "granite3.2-vision:2b" # standard model
    #model: "llava-phi3:3.8b" #light model
    options:
      temperature: 0.2
